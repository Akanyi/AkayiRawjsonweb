<!DOCTYPE html>
<html>
<head>
<title>Minecraft 基岩版文本转 JSON</title>
<meta charset="UTF-8">
<link rel="stylesheet" href="Main.css">
<link rel="stylesheet" href="Main2.css">
</head>
<body>

<h1>Minecraft基岩版 文本转JSON工具 </h1>

<div id="inputArea">
    
        <div id="richTextEditor" contenteditable="true" placeholder="在此输入文本。使用下方按钮插入格式代码或功能。"></div>
    

    <div class="feature-buttons">
        <button onclick="insertFeature('score')">插入计分板</button>
        <button onclick="insertFeature('selector')">插入选择器</button>
        <button onclick="insertFeature('translate')">插入翻译</button>
    </div>

    <div id="preview" class="preview-area" style="display:none;">
        <div id="previewContent"></div>
        <div class="preview-note">注：预览效果不显示颜色修饰，与实际游戏中不同，仅供参考</div>
    </div>

    <div id="colorButtons">
        <button onclick="insertCode('§0')">§0 黑</button>
        <button onclick="insertCode('§1')">§1 深蓝</button>
        <button onclick="insertCode('§2')">§2 深绿</button>
        <button onclick="insertCode('§3')">§3 湖蓝</button>
        <button onclick="insertCode('§4')">§4 深红</button>
        <button onclick="insertCode('§5')">§5 深紫</button>
        <button onclick="insertCode('§6')">§6 金</button>
        <button onclick="insertCode('§7')">§7 灰</button>
        <button onclick="insertCode('§8')">§8 深灰</button>
        <button onclick="insertCode('§9')">§9 蓝</button>
        <button onclick="insertCode('§a')">§a 绿</button>
        <button onclick="insertCode('§b')">§b 水蓝</button>
        <button onclick="insertCode('§c')">§c 红</button>
        <button onclick="insertCode('§d')">§d 紫</button>
        <button onclick="insertCode('§e')">§e 黄</button>
        <button onclick="insertCode('§f')">§f 白</button>
        <button onclick="insertCode('§k')">§k 随机</button>
        <button onclick="insertCode('§l')">§l 粗体</button>
        <button onclick="insertCode('§o')">§o 斜体</button>
        <button onclick="insertCode('§r')">§r 重置</button>
        <button onclick="insertCode('§g')">§g 材料：金币</button>
        <button onclick="insertCode('§h')">§h 材料：石英</button>
        <button onclick="insertCode('§i')">§i 材料：铁</button>
        <button onclick="insertCode('§j')">§j 材料：下界砖</button>
        <button onclick="insertCode('§m')">§m 材料：红石</button>
        <button onclick="insertCode('§n')">§n 材料：铜</button>
        <button onclick="insertCode('§p')">§p 材料：金</button>
        <button onclick="insertCode('§q')">§q 材料：绿宝石</button>
        <button onclick="insertCode('§s')">§s 材料：钻石</button>
        <button onclick="insertCode('§t')">§t 材料：青金石</button>
        <button onclick="insertCode('§u')">§u 材料：紫水晶</button>
        <button onclick="insertCode('§v')">§v 材料：树脂（1.22）</button>
    </div>

    <button id="generateJsonBtn" onclick="generateJson()">生成 JSON</button>
</div>

<h2>Raw JSON:</h2>
<pre id="jsonOutput"></pre>

<div class="menu">
    <button class="menu-button" onclick="toggleMenu()">⋮</button>
    <div class="menu-content" id="menuContent">
        <button onclick="openDecodeModal()">解析 JSON</button>
        <button onclick="openAboutModal()">关于</button>
        <button onclick="openChangelogModal()">更新日志</button>
        <a href="https://github.com/Akanyi/AkayiRawjsonweb" target="_blank">GitHub</a>
    </div>
</div>

<div id="decodeModal" class="modal">
    <div class="modal-content">
        <span class="close-modal" onclick="closeDecodeModal()">&times;</span>
        <h3 id="modalTitle">解析 JSON(Preview)</h3>
        <textarea id="jsonInput" placeholder="在此输入 JSON"></textarea>
        <button onclick="decodeJson()">解析</button>
    </div>
</div>

<div id="aboutModal" class="modal">
    <div class="modal-content">
        <span class="close-modal" onclick="closeAboutModal()">&times;</span>
        <h3 id="aboutTitle">关于</h3>
        <p>这是一个用于将文本转换为 JSON 的工具，适用于Minecraft 基岩版。</p>
        <p>作者：Akanyi</p>
        <p>GitHub 地址: <a href="https://github.com/Akanyi/AkayiRawjsonweb" target="_blank">https://github.com/Akanyi/AkayiRawjsonweb</a></p>
    </div>
</div>

<div id="changelogModal" class="modal">
    <div class="modal-content">
        <span class="close-modal" onclick="closeChangelogModal()">&times;</span>
        <h3 id="changelogTitle">更新日志</h3>
        <ul>
            <li>版本 0.1.0 - 初始版本发布</li>
            <li>版本 0.1.1 - 添加 JSON 解析功能</li>
            <li>版本 0.1.2 - 添加关于页面和更新日志</li>
            <li>版本 0.1.3 - 修正部分设定</li>
            <li>版本 0.1.4 - 添加颜色，修复jsondecode，修复换行</li>
            <li>版本 0.1.5 - 添加教程</li>
        </ul>
    </div>
</div>

<div id="functionModal" class="modal">
    <div class="modal-content">
        <span class="close-modal" onclick="closeModal()">&times;</span>
        <h3 id="modalTitle">编辑功能</h3>
        <div class="modal-form" id="modalForm">
            <!-- 动态内容 -->
        </div>
    </div>
</div>

<!-- 教程折叠栏 -->
<div class="tutorial">
    <button class="tutorial-button" onclick="toggleTutorial()">教程</button>
    <div class="tutorial-content" id="tutorialContent" style="display: none;">
        <h3>基本使用方法</h3>
        <p>1. 在编辑器中输入文本。</p>
        <p>2. 使用下方按钮插入格式代码或功能。</p>
        <p>3. 点击“生成 JSON”按钮生成 JSON。</p>
        <p>4. 在“Raw JSON”区域查看生成的 JSON。</p>
        <p>5. 使用“复制”按钮复制 JSON。</p>
        <p>6. 使用“解析 JSON”解析你的 JSON。</p>
    </div>
</div>

<script src="Main.js"></script>
<script src="Main2.js"></script>
<script src="Main3.js"></script>
<script src="Main4.js"></script>
<script src="Main5.js"></script>

<script src="Decodejson.js"></script>

<!--服了，PowerJsDebuger免费版最多300行，拆开js好烦！-->

<script>
function toggleTutorial() {
    const tutorialContent = document.getElementById('tutorialContent');
    if (tutorialContent.style.display === 'none') {
        tutorialContent.style.display = 'block';
    } else {
        tutorialContent.style.display = 'none';
    }
}
</script>

</body>
</html>
